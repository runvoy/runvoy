description: Test terraform playbook
image: docker/library/debian:latest
git_repo: https://github.com/runvoy/terraform-example.git
env:
  TERRAFORM_VERSION: 1.13.5
  TF_VAR_injected_variable: injected_via_playbook
commands:
  - apt-get update >/dev/null
  - apt-get install -y unzip wget >/dev/null
  - wget --quiet -O terraform.zip https://releases.hashicorp.com/terraform/${TERRAFORM_VERSION}/terraform_${TERRAFORM_VERSION}_linux_arm64.zip
  - unzip terraform.zip
  - mv terraform /usr/local/bin/terraform
  - terraform version
  - terraform init
  - terraform plan
